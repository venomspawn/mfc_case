# Атрибуты заявки на неавтоматизированную услугу

При создании записи заявки на неавтоматизированную услугу возможно прикрепить к
ней произвольные атрибуты. Значение любого атрибута является строкой или
значением `nil` (`NULL`). В течение жизненного цикла заявки на
неавтоматизированную услугу бизнес-логика оперирует следующими атрибутами,
значения которых используются и/или выставляются функциями модуля
бизнес-логики.

*   `added_to_pending_at` — дата и время последнего добавления заявки в реестр
    передаваемой корреспонденции.

    -   Формат значения — ISO 8601.
    -   Не используется никакой функцией.
    -   Выставляется равным текущим дате и времени при изменении состояния
        заявки с `packaging` на `pending`.
    -   Выставляется равным `nil` при изменении состояния заявки с `pending` на
        `packaging`.

*   `added_to_rejecting_at` — дата и время выставления статуса `rejecting`.

    -   Формат значения — ISO 8601.
    -   Используется для проверки того, можно ли изменить состояние заявки с
        `pending` на `closed`, а также с `pending` на `processing`.
    -   Выставляется равным текущим дате и времени при изменении состояния
        заявки с `rejecting` на `pending`.

*   `back_office_id` — идентификатор карточки бэк-офиса, из которого заявка
    отправляется на обработку в ведомство.

    -   Не используется никакой функцией.
    -   Не выставляется никакой функцией, должен быть задан при создании
        заявки.

*   `closed_at` — дата и время выставления статуса `closed`.

    -   Формат значения — ISO 8601.
    -   Не используется никакой функцией.
    -   Выставляется равным текущим дате и времени при изменения состояния
        заявки с `pending` на `closed`, а также с `issuance` на `closed`.

*   `docs_sent_at` — дата и время отправки документов заявки в ведомство.

    -   Формат значения — ISO 8601.
    -   Не используется никакой функцией.
    -   Выставляется равным текущим дате и времени при изменения состояния
        заявки с `pending` на `closed`, а также с `pending` на `processing`.

*   `institution_rguid` — RGUID ведомства, в котором происходит обработка
    заявки.

    -   Не используется никакой функцией.
    -   Не выставляется никакой функцией, должен быть задан при создании
        заявки.

*   `issued_at` — дата и время выдачи результата оказания неавтоматизированной
    услуги, на которую была подана заявка.

    -   Формат значения — ISO 8601.
    -   Не используется никакой функцией.
    -   Выставляется равным текущим дате и времени при изменения состояния
        заявки с `issuance` на `closed`.

*   `issue_location_type` — тип места выдачи результата оказания
    неавтоматизированной услуги, на которую была подана заявка.

    -   Используется для проверки того, можно ли изменить состояние заявки с
        `pending` на `closed`, а также с `pending` на `processing`.
    -   Не выставляется никакой функцией, должен быть задан при создании
        заявки.

*   `issuer_person_id` — идентификатор карточки оператора фронт-офиса,
    выдавшего результат оказания неавтоматизированной услуги, на которую была
    подана заявка.

    -   Не используется никакой функцией.
    -   Выставляется равным значению параметра `operator_id` ассоциативного
        массива параметров при изменений статуса заявки с `issuance` на
        `closed`.

*   `processor_person_id` — идентификатор карточки оператора бэк-офиса,
    отправившего в ведомство документы заявки в составе реестра передаваемой
    корреспонденции.

    -   Не используется никакой функцией.
    -   Выставляется равным значению параметра `exporter_id` ассоциативного
        массива параметров при изменении состояния заявки с `pending` на
        `closed`, а также с `pending` на `processing`.

*   `rejecting_expected_at` — дата, начиная с которой результат заявки должен
    быть возвращён в ведомство.

    -   Формат значения — ISO 8601.
    -   Используется для проверки того, можно ли изменить состояние заявки с
        `issuance` на `closed`, а также с `issuance` на `rejecting`.
    -   Не выставляется никакой функцией, должен быть задан при создании
        заявки.

*   `responded_at` — дата и время передачи результата оказания
    неавтоматизированной услуги, на которую была подана заявка, во фронт-офис.

    -   Формат значения — ISO 8601.
    -   Не используется никакой функцией.
    -   Выставляется функцией равным текущим дате и времени при изменении
        состояния заявки с `processing` на `issuance`.

*   `response_processor_person_id` — идентификатор карточки оператора
    бэк-офиса, передавшего во фронт-офис результат оказания
    неавтоматизированной услуги, на которую была подана заявка.

    -   Не используется никакой функцией.
    -   Выставляется равным значению параметра `operator_id` ассоциативного
        массива параметров при изменении состояния заявки с `processing` на
        `issuance`.

*   `result_id` — идентификатор результата оказания неавтоматизированной
    услуги, на которую была подана заявка.

    -   Не используется никакой функцией.
    -   Выставляется равным значению параметра `result_id` ассоциативного
        массива параметров при изменении состояния заявки с `processing` на
        `issuance`.

*   `status` — состояние заявки. Подробнее о поддерживаемых значениях можно
    прочитать в документе `STATES.md`, посвящённом статусной модели заявки на
    неавтоматизированную услугу.

    -   Используется и выставляется всеми функциями.
